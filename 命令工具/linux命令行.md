---
title: linux命令行
date: 2020-10-27 18:00:34
tags:
---

## 基础命令

### cd

### ls

```
#显示当前目录下的文件
ls
#显示路径下的文件
ls 路径
#显示全部目录文件(包括隐藏)
ls -a
#显示当前目录下的文件详细信息
ls -l或者ll
#查看当前目录的路径
pwd

```

### ll

### pwd

执行pwd指令可立刻得知您目前所在的工作目录的绝对路径名称

### clear

这个命令是用来清除屏幕的，它不需要任何参数

### grep

用于查找文件中符合字符串的哪行

参数说明：

```html
    -a ：将 binary 文件以 text 文件的方式搜寻数据
　　-c ：计算找到 '搜寻字符串' 的次数
　　-i ：忽略大小写的不同，所以大小写视为相同
　　-n ：顺便输出行号
　　-v ：反向选择，亦即显示出没有 '搜寻字符串' 内容的那一行! 
```

如。显示包含st的行，及其行号

![img](https://img-blog.csdn.net/20151018160624870)

将没有出现st的给显示出来

![img](https://img-blog.csdn.net/20151018160733089)

#### 根据文件内容递归查找目录

```html
# grep ‘energywise’ *           #在当前目录搜索带'energywise'行的文件
# grep -r ‘energywise’ *        #在当前目录及其子目录下搜索'energywise'行的文件
# grep -l -r ‘energywise’ *     #在当前目录及其子目录下搜索'energywise'行的文件，但是不显示匹配的行，只显示匹配的文件
```



### find

`find 文件路径 选线`

[find实战](https://cloud.tencent.com/developer/article/1348438)

[find实战](https://man.linuxde.net/find)

```
　　$ find  -name "*.txt" -print 用于查找所有的‘ *.txt’文件在当前目录及子目录中
　　$ find  -name "[A-Z]*" -print 用于当前目录及子目录中查找文件名以一个大写字母开头的文件
　　$ find /etc -name "host*" -print 在/etc目录中查找文件名以host开头的文件
　　$find  -name "[a-z][a-z][0--9][0--9].txt" -print 在当前目录查找文件名以两个小写字母开头，跟着是两个数字，最后是.txt的文件
　　
1.在某目录下查找名为“elm.cc”的文件
find /home/lijiajia/ -name elm.cc
 
2.查找文件名中包含某字符（如"elm"）的文件
find /home/lijiajia/ -name '*elm*'
find /home/lijiajia/ -name 'elm*'
find /home/lijiajia/ -name '*elm'
 
3.根据文件的特征进行查询
find /home/lijiajia/ -amin -10        #查找在系统中最后10分钟访问的文件
find /home/lijiajia/ -atime -2        #查找在系统中最后48小时访问的文件
find /home/lijiajia/ -empty           #查找在系统中为空的文件或者文件夹
find /home/lijiajia/ -group cat       # 查找在系统中属于groupcat 的文件（试了，命令不对。）
find /home/lijiajia/ -mmin -5         # 查找在系统中最后5 分钟里修改过的文件
find /home/lijiajia/ -mtime -1        #查找在系统中最后24 小时里修改过的文件
find /home/lijiajia/ -nouser          #查找在系统中属于作废用户的文件（不明白是什么意思）
find /home/lijiajia/ -amin 10         #查找在系统中最后10分钟访问的文件
find /home/ftp/pub -user lijiajia     #查找在系统中属于lijiajia这个用户的文件
(PS:以上都是在 /home/lijiajia/文件夹下进行的操作)
 
4.使用混合查找方式查找文件
find /tmp -size +10000000c -and -mtime +2      #查找/tmp目录中大于10000000字节并且在48小时内修改的某个文件
find /tmp -user tom -or -user george           #查找/tmp目录中属于tom或者george这两个用户的文件
find /tmp ! -usr fred                          #查找/tmp目录中不属于fred的文件
 
5.查找并显示文件
find /home/lijiajia/ -name 'elm.cc' -ls        #在目录下查找名为“elm.cc”的文件,并显示这些文件的信息
```

选项

```
-amin<分钟>：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；
-anewer<参考文件或目录>：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
-atime<24小时数>：查找在指定时间曾被存取过的文件或目录，单位以24小时计算；
-cmin<分钟>：查找在指定时间之时被更改过的文件或目录；
-cnewer<参考文件或目录>查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-ctime<24小时数>：查找在指定时间之时被更改的文件或目录，单位以24小时计算；
-daystart：从本日开始计算时间；
-depth：从指定目录下最深层的子目录开始查找；
-empty：寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录；
-exec<执行指令>：假设find指令的回传值为True，就执行该指令；
-false：将find指令的回传值皆设为False；
-fls<列表文件>：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；
-follow：排除符号连接；
-fprint<列表文件>：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；
-fprint0<列表文件>：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；
-fprintf<列表文件><输出格式>：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；
-fstype<文件系统类型>：只寻找该文件系统类型下的文件或目录；
-gid<群组识别码>：查找符合指定之群组识别码的文件或目录；
-group<群组名称>：查找符合指定之群组名称的文件或目录；
-help或——help：在线帮助；
-ilname<范本样式>：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；
-iname<范本样式>：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；
-inum<inode编号>：查找符合指定的inode编号的文件或目录；
-ipath<范本样式>：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；
-iregex<范本样式>：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；
-links<连接数目>：查找符合指定的硬连接数目的文件或目录；
-iname<范本样式>：指定字符串作为寻找符号连接的范本样式；
-ls：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；
-maxdepth<目录层级>：设置最大目录层级；
-mindepth<目录层级>：设置最小目录层级；
-mmin<分钟>：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；
-mount：此参数的效果和指定“-xdev”相同；
-mtime<24小时数>：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；
-name<范本样式>：指定字符串作为寻找文件或目录的范本样式；
-newer<参考文件或目录>：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-nogroup：找出不属于本地主机群组识别码的文件或目录；
-noleaf：不去考虑目录至少需拥有两个硬连接存在；
-nouser：找出不属于本地主机用户识别码的文件或目录；
-ok<执行指令>：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；
-path<范本样式>：指定字符串作为寻找目录的范本样式；
-perm<权限数值>：查找符合指定的权限数值的文件或目录；
-print：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；
-print0：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；
-printf<输出格式>：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；
-prune：不寻找字符串作为寻找文件或目录的范本样式;
-regex<范本样式>：指定字符串作为寻找文件或目录的范本样式；
-size<文件大小>：查找符合指定的文件大小的文件；
-true：将find指令的回传值皆设为True；
-type<文件类型>：只寻找符合指定的文件类型的文件；
-uid<用户识别码>：查找符合指定的用户识别码的文件或目录；
-used<日数>：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；
-user<拥有者名称>：查找符和指定的拥有者名称的文件或目录；
-version或——version：显示版本信息；
-xdev：将范围局限在先行的文件系统中；
-xtype<文件类型>：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。
```



# 一、操作文件

### 1.1 touch 创建文件

linux的touch命令不常用，一般在使用make的时候可能会用到，用来修改文件时间戳，或者新建一个不存在的文件。

### 1.2 rm 删除文件

这个命令是用来删除文件的，和dos下面的rm（删除一个空目录）是有区别的，大家千万要注意。rm命令常用的参数有三个： -i,-r,-f。

    -f, --force    忽略不存在的文件，从不给出提示。
    -i, --interactive 进行交互式删除
    -r, -R, --recursive   指示rm将参数中列出的全部目录和子目录均递归地删除。
    -v, --verbose    详细显示进行的步骤
      	--help     显示此帮助信息并退出
      	--version  输出版本信息并退出
　**rm –r 目录名：这个操作可以连同这个目录下面的子目录都删除，功能上和rmdir相似。
　rm –f 文件名（目录名）：这个操作可以进行强制删除。**
**一般将r和f组合-rf一起使用**

如下，交互删除

![img](https://img-blog.csdn.net/20151018151802070)

### 1.3 mkdir 创建目录

mkdir命令用来建立新的目录

mkdir -p 目录名/目录名 #级联创建目录



### 1.4 rmdir删除目录

rmdir 命令只能删除空的文件夹，如果文件夹非空，将不能删除，它也没有-f选项，所以你的命令都是错的。

### 1.5 mv 移动目录或者文件、文件改名

#### 1.5.1 移动目录或者文件

　　这个命令的功能是移动目录或文件，引申的功能是给目录或文件重命名。当使用该命令来移动目录时，他会连同该目录下面的子目录也一同移走。

```html
-b ：若需覆盖文件，则覆盖前先行备份。 
-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
-u ：若目标文件已经存在，且 source 比较新，才会更新(update)
-t  ： --target-directory=DIRECTORY move all SOURCE arguments into DIRECTORY，即指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后。
```

![img](https://img-blog.csdn.net/20151018152400986)

#### 1.5.2 文件改名

mv 原文件（目录）名 新的文件（目录）名。 

![img](https://img-blog.csdn.net/20151018152021031)

### 1.6 cp 复制

  cp命令用来将一个或多个源文件或者目录复制到指定的目的文件或目录。它可以将单个源文件复制成一个指定文件名的具体的文件或一个已经存在的目录下。cp命令还支持同时复制多个文件，当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。

```html
-a：此参数的效果和同时指定"-dpR"参数相同；
 -d：当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录；
-f：强行复制文件或目录，不论目标文件或目录是否已存在；
 -i：覆盖既有文件之前先询问用户；
 -l：对源文件建立硬连接，而非复制文件；
 -p：保留源文件或目录的属性； 
-R/r：递归处理，将指定目录下的所有文件与子目录一并处理；
 -s：对源文件建立符号连接，而非复制文件；
 -u：使用这项参数后只会在源文件的更改时间较目标文件更新时或是名称相互对应的目标文件并不存在时，才复制文件；
 -S：在备份文件时，用指定的后缀“SUFFIX”代替文件的默认后缀；
 -b：覆盖已存在的文件目标前将目标文件备份； -v：详细显示命令执行的操作
```

**具体用法是：cp –r 源文件(source)  目的文件(target)。 参数r是指连同源文件中的子目录一同拷贝。**

如下，将/home/linlin1下的linlin.c复制到/home/linlin2下

![img](https://img-blog.csdn.net/20151018150534338)

如下，将/home/linlin1下的linlin.c复制到/home/linlin2下并改名为hello.c

![img](https://img-blog.csdn.net/20151018150846933)

我们在Linux下使用cp命令复制文件时候，有时候会需要覆盖一些同名文件，覆盖文件的时候都会有提示：需要不停的按Y来确定执行覆盖。文件数量不多还好，但是要是几百个估计按Y都要吐血了，于是折腾来半天总结了一个方法：

```html
cp aaa/* /bbb 复制目录aaa下所有到/bbb目录下，这时如果/bbb目录下有和aaa同名的文件，需要按Y来确认并且会略过aaa目录下的子目录。
cp -r aaa/* /bbb 这次依然需要按Y来确认操作，但是没有忽略子目录。
cp -r -a aaa/* /bbb 依然需要按Y来确认操作，并且把aaa目录以及子目录和文件属性也传递到了/bbb。 
cp -r -a aaa/* /bbb 成功，没有提示按Y、传递了目录属性、没有略过目录。
```

### 1.7 du、df 目录所占/剩余磁盘空间

　　du命令可以显示目前的目录所占的磁盘空间，df命令可以显示目前磁盘剩余的磁盘空间。如果du命令不加任何参数，那么返回的是整个磁盘的使用情况，如果后面加了目录的话，就是这个目录在磁盘上的使用情况

![img](https://img-blog.csdn.net/20151018152913810)

### 1.7 cat 

```
-n 或 --number 由 1 开始对所有输出的行数编号
-b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号
-s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行
-v 或 --show-nonprinting
```



#### 1.7.1  一次显示整个文件

`cat filename`

`cat text` 显示text这个文件；

#### 1.7.2 从键盘创建一个文件

`cat > filename`

**`cat file1 file2`依顺序显示file1,file2的内容**

#### 1.7.3 将几个文件合并为一个文件

`cat file1 file2 > file`

**cat file1 file2>file3 把file1,file2的内容结合起来，再“重定向（>）”到file3文件中。**

> 　　“〉”是一个非常有趣的符号，是往右重定向的意思，就是把左边的结果当成是输入，然后输入到file3这个文件中。这里要注意一点是file3是在重定向以前还未存在的文件，如果file3是已经存在的文件，那么它本身的内容被覆盖，而变成file1+file2的内容。如果〉左边没有文件的名称，而右边有文件名，例如：把 text.c和 text1.c的档案内容加上行号（空白行不加）之后将内容附加到 text2.c 里。![img](https://img-blog.csdn.net/20151018153638401)
>
> 　　另外，如果你使用如下的指令：
>
> 　　cat file1>>file2：这将变成将file1的文件内容“附加”到file2的文件后面，而file2的内容依然存在，这种重定向符〉〉比〉常用，可以多多利用。 
>
> ![img](https://img-blog.csdn.net/20151018153828307)

### 1.8 more/less 显示一般文本文件

这是两个显示一般文本文件的指令。如果一个文本文件太长了超过一个屏幕的画面，用cat来看实在是不理想，就可以试试more和less两个指令。More指令可以使超过一页的文件临时停留在屏幕，等你按任何的一个键以后，才继续显示。而less除了有more的功能以外，还可以用方向键往上或往下的滚动文件，所以你随意浏览，阅读文章时，less是个非常好的选择。 

#### 1.8.1 more

```
more 选项 文件名

+n 从笫n行开始显示
-n 定义屏幕大小为n行
+/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示
-c 从顶部清屏，然后显示
-d 提示“Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能
-l 忽略Ctrl+l（换页）字符
-p 通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似
-s 把连续的多个空行显示为一行
-u 把文件内容中的下画线去掉
```

#### less

less 工具也是对文件或其它输出进行分页显示的工具，应该说是linux正统查看文件内容的工具，功能极其强大。less 的用法比起 more 更加的有弹性。在 more 的时候，我们并没有办法向前面翻， 只能往后面看，但若使用了 less 时，就可以使用 [pageup] [pagedown] 等按键的功能来往前往后翻看文件，更容易用来查看一个文件的内容！除此之外，在 less 里头可以拥有更多的搜索功能，不止可以向下搜，也可以向上搜。

```
-b <缓冲区大小> 设置缓冲区的大小
-e  当文件显示结束后，自动离开
-f  强迫打开特殊文件，例如外围设备代号、目录和二进制文件
-g  只标志最后搜索的关键词
-i  忽略搜索时的大小写
-m  显示类似more命令的百分比
-N  显示每行的行号
-o <文件名> 将less 输出的内容在指定文件中保存起来
-Q  不使用警告音
-s  显示连续空行为一行
-S  行过长时间将超出部分舍弃
-x <数字> 将“tab”键显示为规定的数字空格
/字符串：向下搜索“字符串”的功能
?字符串：向上搜索“字符串”的功能
n：重复前一个搜索（与 / 或 ? 有关）
N：反向重复前一个搜索（与 / 或 ? 有关）
b  向后翻一页
d  向后翻半页
h  显示帮助界面
Q  退出less 命令
u  向前滚动半页
y  向前滚动一行
空格键 滚动一行
回车键 滚动一页
[pagedown]： 向下翻动一页
[pageup]：   向上翻动一页
```

